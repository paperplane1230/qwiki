# Notes on MySQL

## Explain

### 限制

* 不会告诉你触发器、存储过程或 UDF 会如何影响查询
* 不支持存储过程，尽管可以手动抽取查询并单独对其进行 EXPLAIN 操作
* 不会告诉你你 MySQL 在查询执行中所做的特定优化
* 不会显示关于查询的执行计划的所有信息
* 不区分具有相同名字的事物。例如，对内存排序和文件排序都使用 "filesort", 并且对于磁盘上和内存上的临时表都显示 "Using temporary"
* 可能会误导。例如，会对一个有着很小 LIMIT 的查询显示全索引扫描

## 选择数据类型的原则

* 更小的通常更好
* 简单就好. 使用 MySQL 内建的类型(date, time, datatime)而不是字符串来存储日期和时间; 用整型存储 IP 地址
* 尽量避免 NULL. 对 MySQL 来说更难优化. 可为 NULL 的列会使用更多的存储空间. 如果计划在列上建索引, 应该尽量避免设计成可为 NULL

TIMESTAMP 只使用 DATETIME 一半的存储空间, 会根据时区变化, 具有特殊的自动更新能力. 允许的时间范围要小得多

可以使用 DECIMAL 存储比 BIGINT还大的整数. MySQL 既支持精确类型, 也支持不精确类型

浮点类型在存储同样范围的值时, 通常比 DECIMAL 使用更少的空间

因为需要额外的空间和计算开销, 应该尽量只在对小数进行精确计算时才使用 DECIMAL


